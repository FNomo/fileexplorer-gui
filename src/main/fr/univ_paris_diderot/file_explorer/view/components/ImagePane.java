package fr.univ_paris_diderot.file_explorer.view.components;

import java.awt.Graphics;
import java.awt.Image;

import javax.swing.ImageIcon;
import javax.swing.JLabel;

import fr.univ_paris_diderot.utils.Log;
import fr.univ_paris_diderot.utils.Util;

/**
 * Paneau de visualisation d'une Immage
 * @author Franc Zobo Nomo
 * @version 1.0
 */
public class ImagePane extends JLabel{

	// --------------------------------- ----------- Variables ----------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//

	/** Image à afficher */
	private Image img;

	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//




	// --------------------------------- ---------- Création ------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//

	/**
	 * Constructeur du visualiseur
	 */
	public ImagePane(){
		Log.d("Created " + Util.printObject(this));
		img = null;
	}

	/**
	 * Constructeur du visualiseur
	 * @param img Image source
	 */
	public ImagePane(Image img) {

		Log.d("Created " + Util.printObject(this));
		setAlignmentX(CENTER_ALIGNMENT);
		setAlignmentY(CENTER_ALIGNMENT);
		setImg(img);
	}

	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//




	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//

	/**
	 * Change de l'image à visualiser
	 * @param img Nouvelle image source
	 */
	public void setImg(Image img) {
		this.img = img;
	}

	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//




	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//

	/**
	 * 
	 * Affichage du composant
	 * 
	 * @param g le contexte graphique
	 * 
	 */
	@Override
	protected void paintComponent(Graphics g) {

		super.paintComponent(g);
		var scaleDim = Util.getScaleDimension(img, getWidth(), getHeight());
		var resizedImg = img.getScaledInstance((int) scaleDim.getWidth(), (int) scaleDim.getHeight(), Image.SCALE_SMOOTH);
		setIcon(new ImageIcon(resizedImg));
	}

	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//
	// --------------------------------- --------------------------------- ---------------------------------//

}
